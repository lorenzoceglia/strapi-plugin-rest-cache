import{_ as s,c as e,o as a,a as n}from"./app.4b6b3d2e.js";const g=JSON.parse('{"title":"Cache provider configuration","description":"","frontmatter":{"title":"Cache provider configuration"},"headers":[{"level":2,"title":"Provider reference","slug":"provider-reference","link":"#provider-reference","children":[{"level":3,"title":"name","slug":"name","link":"#name","children":[]},{"level":3,"title":"getTimeout","slug":"gettimeout","link":"#gettimeout","children":[]},{"level":3,"title":"options","slug":"options","link":"#options","children":[]}]}],"relativePath":"guide/provider/index.md","lastUpdated":1672538480000}'),o={name:"guide/provider/index.md"},l=n(`<h1 id="cache-provider-configuration" tabindex="-1">Cache provider configuration <a class="header-anchor" href="#cache-provider-configuration" aria-hidden="true">#</a></h1><p>By default, the <strong>strapi-plugin-rest-cache</strong> use <strong>strapi-provider-rest-cache-memory</strong> which is an in-memory provider. It&#39;s not persisted and will be lost when the server restarts.</p><p>Alternatively, you can use:</p><ul><li><strong>strapi-provider-rest-cache-redis</strong> which is a bridge between the cache plugin and the <a href="https://github.com/strapi-community/strapi-plugin-redis" target="_blank" rel="noreferrer">strapi-plugin-redis</a></li><li><strong>strapi-provider-rest-cache-couchbase</strong> which connect to a couchbase cluster and store the cache in a bucket</li><li>Your custom provider</li></ul><p>You have to set the provider name in the plugin configuration so it will be initialized once the plugin is bootstrapped. At this time only one provider can be used at a time.</p><p>You can also set the provider <code>getTimeout</code> which is the time in milliseconds to wait for the provider to respond, <strong>if the provider is not responding, the cache will be considered as a miss</strong>.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight has-highlighted-lines"><code><span class="line"><span style="color:#676E95;font-style:italic;">// file: /config/plugins.js</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">env</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">rest-cache</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">config</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">provider</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">/* @type {Provider} */</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// name can be an alias:</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-provider</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// try to require &#39;strapi-provider-rest-cache-my-provider&#39;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// a full package name:</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@org/my-cache-provider</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// try to require &#39;@org/my-cache-provider&#39;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// or a relative path:</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">../path/to/my-provider</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"></span>
<span class="line highlighted"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// provider options</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">getTimeout</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">500</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// in milliseconds (default: 500)</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{},</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">strategy</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>Note that each provider has its own configuration, so you will have to refer to the provider documentation to know how to configure it.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Check the <a href="./memory.html">memory</a>, <a href="./redis.html">redis</a> or <a href="./couchbase.html">couchbase</a> documentation for more details for advanced provider configuration.</p></div><h2 id="provider-reference" tabindex="-1"><code>Provider</code> reference <a class="header-anchor" href="#provider-reference" aria-hidden="true">#</a></h2><h3 id="name" tabindex="-1"><code>name</code> <a class="header-anchor" href="#name" aria-hidden="true">#</a></h3><p>The name of the provider.<br> Will try to load the package with <code>strapi-rest-cache-provider-&lt;name&gt;</code> and fallback with <code>&lt;name&gt;</code>, so you can either use a package name or an absolute path.</p><ul><li><strong>Type:</strong> <code>string</code></li><li><strong>Default:</strong> <code>&#39;memory&#39;</code></li></ul><h3 id="gettimeout" tabindex="-1"><code>getTimeout</code> <a class="header-anchor" href="#gettimeout" aria-hidden="true">#</a></h3><p>Time in milliseconds to wait for the provider to respond on cache lookup requests, if the provider is not responding, the cache will be considered as a miss</p><ul><li><strong>Type:</strong> <code>number</code></li><li><strong>Default:</strong> <code>500</code></li></ul><h3 id="options" tabindex="-1"><code>options</code> <a class="header-anchor" href="#options" aria-hidden="true">#</a></h3><p>Object passed to the provider constructor.</p><ul><li><strong>Type:</strong> <code>any</code></li><li><strong>Default:</strong> <code>{}</code></li></ul>`,19),t=[l];function p(r,i,c,d,h,y){return a(),e("div",null,t)}const u=s(o,[["render",p]]);export{g as __pageData,u as default};
